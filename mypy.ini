[tool.mypy]
# 1. Base Setup
python_version = "3.10" # Adjust to your version
pretty = true

# 2. The "Strict" Macro
# This turns on: warn_unused_configs, disallow_any_generics, disallow_subclassing_any, 
# disallow_untyped_calls, disallow_untyped_defs, disallow_incomplete_defs, 
# check_untyped_defs, disallow_untyped_decorators, no_implicit_optional, 
# warn_redundant_casts, warn_unused_ignores, warn_return_any...
strict = true

# 3. Targeted Hardening (Overrides "strict" where needed)
warn_return_any = true        # Report functions that return 'Any' (Silent type killers)
warn_unreachable = true       # Report code that can never run
disallow_any_unimported = true # Ban 'Any' from libraries without stubs (Strict!)

# 4. Pragmatic Overrides (To prevent "Stub Hell")
# We want to be strict on YOUR code, but lenient on 3rd party libs that lack types.
ignore_missing_imports = true 

# 5. Explicit "Any" Ban
# Mypy allows 'Any' by default even in strict mode. We want to know about it.
disallow_any_explicit = false # Set to true if you want to be EXTREME (painful but safe)

[[tool.mypy.overrides]]
# Relax rules for tests if needed, but keep source strict
module = "tests.*"
disallow_untyped_defs = false